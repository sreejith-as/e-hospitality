{% extends "base.html" %}
{% load static %}
{% block content %}
<div class="container py-4">
  <div class="row justify-content-center">
    <div class="col-lg-8">
      <h2><i class="bi bi-calendar-x"></i> Cancel Appointment</h2>
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Appointment Details</h5>
          <dl class="row">
            <dt class="col-sm-3">Doctor</dt>
            <dd class="col-sm-9">{{ appointment.doctor.get_full_name }}</dd>
            
            <dt class="col-sm-3">Date</dt>
            <dd class="col-sm-9">{{ appointment.schedule.date }}</dd>
            
            <dt class="col-sm-3">Time</dt>
            <dd class="col-sm-9">{{ appointment.schedule.start_time|time:"h:i A" }}</dd>
            
            <dt class="col-sm-3">Reason</dt>
            <dd class="col-sm-9">{{ appointment.symptoms|default:"N/A" }}</dd>
            
            <dt class="col-sm-3">Status</dt>
            <dd class="col-sm-9">
              {% if appointment.status == 'booked' %}
                <span class="badge bg-primary">Scheduled</span>
              {% elif appointment.status == 'completed' %}
                <span class="badge bg-success">Completed</span>
              {% elif appointment.status == 'cancelled' %}
                <span class="badge bg-danger">Cancelled</span>
              {% else %}
                <span class="badge bg-secondary">{{ appointment.status }}</span>
              {% endif %}
            </dd>
          </dl>
          
          <form method="post">
            {% csrf_token %}
            <p>Are you sure you want to cancel this appointment?</p>
            <button type="submit" class="btn btn-danger">Yes, Cancel Appointment</button>
            <a href="{% url 'patients:overview' %}#appointments" class="btn btn-secondary">No, Go Back</a>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}

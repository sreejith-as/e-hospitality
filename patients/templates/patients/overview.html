{% extends "patients/base_dashboard.html" %}
{% block dashboard_content %}
<h2>Overview</h2>

<div class="row">
  <div class="col-md-6">
    <h4>Upcoming Appointments</h4>
    {% if upcoming_appointments %}
      <ul class="list-group">
        {% for appointment in upcoming_appointments %}
          <li class="list-group-item">
            Dr. {{ appointment.doctor.get_full_name }} - {{ appointment.schedule.date }} at {{ appointment.schedule.start_time }}
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>No upcoming appointments.</p>
    {% endif %}
  </div>
  <div class="col-md-6">
    <h4>Medical Records</h4>
    <p>You have {{ medical_records_count }} medical record{{ medical_records_count|pluralize }}.</p>
  </div>
</div>

<div class="row mt-4">
  <div class="col-md-6">
    <h4>Active Prescriptions</h4>
    {% if active_prescriptions %}
      <ul class="list-group">
        {% for prescription in active_prescriptions %}
          <li class="list-group-item">
            {{ prescription.medication.name }} - {{ prescription.dosage }} ({{ prescription.instructions }})
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>No active prescriptions.</p>
    {% endif %}
  </div>
  <div class="col-md-6">
    <h4>Unpaid Bills</h4>
    {% if unpaid_bills %}
      <ul class="list-group">
        {% for bill in unpaid_bills %}
          <li class="list-group-item">
            Amount: ${{ bill.amount }} - Due: {{ bill.due_date }}
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>No unpaid bills.</p>
    {% endif %}
  </div>
</div>

<div class="row mt-4">
  <div class="col-12">
    <h4>Recent Activity</h4>
    <p>No recent activity to show.</p>
  </div>
</div>
{% endblock %}
